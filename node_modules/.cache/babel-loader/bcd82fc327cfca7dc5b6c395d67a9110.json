{"ast":null,"code":"import { useEffect, useRef } from \"react\";\n\nvar usePoller = function usePoller(fn, delay) {\n  var savedCallback = useRef(); // Remember the latest fn.\n\n  useEffect(function () {\n    savedCallback.current = fn;\n  }, [fn]); // Set up the interval.\n  // eslint-disable-next-line consistent-return\n\n  useEffect(function () {\n    function tick() {\n      if (savedCallback.current) savedCallback.current();\n    }\n\n    if (delay !== null) {\n      var id_1 = setInterval(tick, delay);\n      return function () {\n        return clearInterval(id_1);\n      };\n    }\n  }, [delay]); // run at start too\n\n  useEffect(function () {\n    fn(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n};\n\nexport default usePoller;","map":null,"metadata":{},"sourceType":"module"}