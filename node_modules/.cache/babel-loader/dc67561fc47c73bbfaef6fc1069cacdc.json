{"ast":null,"code":"import _regeneratorRuntime from\"/home/madhav/Documents/freelancers/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/madhav/Documents/freelancers/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/madhav/Documents/freelancers/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Modal,Tooltip}from\"antd\";import React,{useEffect,useState}from\"react\";import{Transactor}from\"../helpers\";import{useAppSelector,useContractLoader,useUserSigner}from\"../hooks\";export default function EnterRaffle(_ref){var injectedProvider=_ref.injectedProvider,inRaffle=_ref.inRaffle,resetStatus=_ref.resetStatus;var userAddress=useAppSelector(function(state){return state.user.address;});var gasPrice=useAppSelector(function(state){return state.network.gasPrice;});var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),tooltip=_useState2[0],setTooltip=_useState2[1];var contracts=useContractLoader(injectedProvider);var userSigner=useUserSigner(injectedProvider);var tx=Transactor(userSigner,gasPrice);var enterRaffle=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0=tx&&contracts;if(!_context.t0){_context.next=4;break;}_context.next=4;return tx(contracts.CityDaoParcel.enterRaffle());case 4:resetStatus();return _context.abrupt(\"return\",true);case 6:case\"end\":return _context.stop();}}},_callee);}));return function enterRaffle(){return _ref2.apply(this,arguments);};}();useEffect(function(){if(inRaffle){setTooltip(\"You have already entered the raffle\");}else{setTooltip(\"Connect your wallet to enter the raffle.\");}},[inRaffle]);var raffleRules=function raffleRules(){Modal.confirm({title:\"Legal disclaimer!\",content:\"By confirming, you hereby agree to the following conditions.. \\n      lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum\",okText:\"Yes\",cancelText:\"No\",okType:\"primary\",okButtonProps:{className:\"confirm\"},centered:true,onOk:enterRaffle});};return/*#__PURE__*/React.createElement(Tooltip,{title:userAddress&&!inRaffle?null:tooltip},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return userAddress&&!inRaffle&&raffleRules();},className:\"connect-wallet-button connect-wallet secondary-font px-4 h-9 rounded \".concat(!userAddress||inRaffle?\"opacity-50\":\"\",\" flex items-center justify-center\")},\"Enter Raffle\"));}","map":null,"metadata":{},"sourceType":"module"}