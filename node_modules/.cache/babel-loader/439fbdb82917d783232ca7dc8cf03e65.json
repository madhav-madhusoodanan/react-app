{"ast":null,"code":"import _regeneratorRuntime from\"/home/madhav/Documents/freelancers/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/madhav/Documents/freelancers/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/madhav/Documents/freelancers/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{SendOutlined,WalletOutlined}from\"@ant-design/icons\";import{Button,Modal,Tooltip}from\"antd\";import{ethers}from\"ethers\";import React,{useState}from\"react\";import{Transactor}from\"../helpers\";import EtherInput from\"./EtherInput\";export default function Wallet(props){var _props$price;var _useState=useState(),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),amount=_useState4[0],setAmount=_useState4[1];var useOpenWallet=function useOpenWallet(){setOpen(!open);};var providerSend=/*#__PURE__*/React.createElement(Tooltip,{title:\"Wallet\"},/*#__PURE__*/React.createElement(WalletOutlined,{onClick:useOpenWallet,rotate:-90,style:{padding:7,cursor:\"pointer\",fontSize:28,verticalAlign:\"middle\"}}));var display=/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(EtherInput,{price:(_props$price=props.price)!==null&&_props$price!==void 0?_props$price:1,value:amount,onChange:function onChange(value){setAmount(value);}})));var useSend=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var tx,value;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:tx=Transactor(props.provider);try{value=ethers.utils.parseEther(\"\"+amount);}catch(e){// failed to parseEther, try something else\nvalue=ethers.utils.parseEther(\"\"+parseFloat(amount).toFixed(8));}tx({to:props.toAddress,value:value});setOpen(!open);case 4:case\"end\":return _context.stop();}}},_callee);}));return function useSend(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"span\",{className:\"absolute bottom-0 left-0 z-10\"},providerSend,/*#__PURE__*/React.createElement(Modal,{visible:open,onOk:function onOk(){setOpen(!open);},onCancel:function onCancel(){setOpen(!open);},footer:[/*#__PURE__*/React.createElement(Button,{key:\"submit\",type:\"primary\",disabled:!amount,loading:false,onClick:useSend},/*#__PURE__*/React.createElement(SendOutlined,null),\" Send\")]},display));}","map":null,"metadata":{},"sourceType":"module"}