{"ast":null,"code":"var _jsxFileName = \"/home/madhav/Documents/freelancers/app/packages/react-app/src/components/EnterRaffle.tsx\";\nimport { Modal, Tooltip } from \"antd\";\nimport React, { useEffect, useState } from \"react\";\nimport { Transactor } from \"../helpers\";\nimport { useAppSelector, useContractLoader, useUserSigner } from \"../hooks\";\nexport default function EnterRaffle({\n  injectedProvider,\n  inRaffle,\n  resetStatus\n}) {\n  const userAddress = useAppSelector(state => state.user.address);\n  const gasPrice = useAppSelector(state => state.network.gasPrice);\n  const [tooltip, setTooltip] = useState(\"\");\n  const contracts = useContractLoader(injectedProvider);\n  const userSigner = useUserSigner(injectedProvider);\n  const tx = Transactor(userSigner, gasPrice);\n\n  const enterRaffle = async () => {\n    tx && contracts && (await tx(contracts.CityDaoParcel.enterRaffle()));\n    resetStatus();\n    return true;\n  };\n\n  useEffect(() => {\n    if (inRaffle) {\n      setTooltip(\"You have already entered the raffle\");\n    } else {\n      setTooltip(\"Connect your wallet to enter the raffle.\");\n    }\n  }, [inRaffle]);\n\n  const raffleRules = () => {\n    Modal.confirm({\n      title: \"Legal disclaimer!\",\n      content: `By confirming, you hereby agree to the following conditions.. \n      lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum`,\n      okText: \"Yes\",\n      cancelText: \"No\",\n      okType: \"primary\",\n      okButtonProps: {\n        className: \"confirm\"\n      },\n      centered: true,\n      onOk: enterRaffle\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Tooltip, {\n    title: userAddress && !inRaffle ? null : tooltip,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => userAddress && !inRaffle && raffleRules(),\n    className: `connect-wallet-button connect-wallet secondary-font px-4 h-9 rounded ${!userAddress || inRaffle ? \"opacity-50\" : \"\"} flex items-center justify-center`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, \"Enter Raffle\"));\n}","map":{"version":3,"sources":["/home/madhav/Documents/freelancers/app/packages/react-app/src/components/EnterRaffle.tsx"],"names":["Modal","Tooltip","React","useEffect","useState","Transactor","useAppSelector","useContractLoader","useUserSigner","EnterRaffle","injectedProvider","inRaffle","resetStatus","userAddress","state","user","address","gasPrice","network","tooltip","setTooltip","contracts","userSigner","tx","enterRaffle","CityDaoParcel","raffleRules","confirm","title","content","okText","cancelText","okType","okButtonProps","className","centered","onOk"],"mappings":";AAAA,SAASA,KAAT,EAAgBC,OAAhB,QAA+B,MAA/B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,YAA3B;AACA,SAASC,cAAT,EAAyBC,iBAAzB,EAA4CC,aAA5C,QAAiE,UAAjE;AAQA,eAAe,SAASC,WAAT,CAAqB;AAAEC,EAAAA,gBAAF;AAAoBC,EAAAA,QAApB;AAA8BC,EAAAA;AAA9B,CAArB,EAAyE;AACtF,QAAMC,WAAW,GAAGP,cAAc,CAAEQ,KAAD,IAAsBA,KAAK,CAACC,IAAN,CAAWC,OAAlC,CAAlC;AACA,QAAMC,QAAQ,GAAGX,cAAc,CAACQ,KAAK,IAAIA,KAAK,CAACI,OAAN,CAAcD,QAAxB,CAA/B;AACA,QAAM,CAACE,OAAD,EAAUC,UAAV,IAAwBhB,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAMiB,SAAc,GAAGd,iBAAiB,CAACG,gBAAD,CAAxC;AACA,QAAMY,UAAU,GAAGd,aAAa,CAACE,gBAAD,CAAhC;AACA,QAAMa,EAAE,GAAGlB,UAAU,CAACiB,UAAD,EAAaL,QAAb,CAArB;;AAEA,QAAMO,WAAW,GAAG,YAAY;AAC9BD,IAAAA,EAAE,IAAIF,SAAN,KAAoB,MAAME,EAAE,CAACF,SAAS,CAACI,aAAV,CAAwBD,WAAxB,EAAD,CAA5B;AACAZ,IAAAA,WAAW;AACX,WAAO,IAAP;AACD,GAJD;;AAMAT,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIQ,QAAJ,EAAc;AACZS,MAAAA,UAAU,CAAC,qCAAD,CAAV;AACD,KAFD,MAEO;AACLA,MAAAA,UAAU,CAAC,0CAAD,CAAV;AACD;AACF,GANQ,EAMN,CAACT,QAAD,CANM,CAAT;;AAQA,QAAMe,WAAW,GAAG,MAAM;AACxB1B,IAAAA,KAAK,CAAC2B,OAAN,CAAc;AACZC,MAAAA,KAAK,EAAE,mBADK;AAEZC,MAAAA,OAAO,EAAG;AAChB,sJAHkB;AAIZC,MAAAA,MAAM,EAAE,KAJI;AAKZC,MAAAA,UAAU,EAAE,IALA;AAMZC,MAAAA,MAAM,EAAE,SANI;AAOZC,MAAAA,aAAa,EAAE;AACbC,QAAAA,SAAS,EAAE;AADE,OAPH;AAUZC,MAAAA,QAAQ,EAAE,IAVE;AAWZC,MAAAA,IAAI,EAAEZ;AAXM,KAAd;AAaD,GAdD;;AAgBA,sBACE,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAEX,WAAW,IAAI,CAACF,QAAhB,GAA2B,IAA3B,GAAkCQ,OAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,OAAO,EAAE,MAAMN,WAAW,IAAI,CAACF,QAAhB,IAA4Be,WAAW,EADxD;AAEE,IAAA,SAAS,EAAG,wEACV,CAACb,WAAD,IAAgBF,QAAhB,GAA2B,YAA3B,GAA0C,EAC3C,mCAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CADF;AAYD","sourcesContent":["import { Modal, Tooltip } from \"antd\";\nimport React, { useEffect, useState } from \"react\";\nimport { Transactor } from \"../helpers\";\nimport { useAppSelector, useContractLoader, useUserSigner } from \"../hooks\";\nimport { RootState } from \"../store\";\n\ninterface Props {\n  injectedProvider: any;\n  inRaffle: boolean;\n  resetStatus: () => void;\n}\nexport default function EnterRaffle({ injectedProvider, inRaffle, resetStatus }: Props) {\n  const userAddress = useAppSelector((state: RootState) => state.user.address);\n  const gasPrice = useAppSelector(state => state.network.gasPrice);\n  const [tooltip, setTooltip] = useState(\"\");\n  const contracts: any = useContractLoader(injectedProvider);\n  const userSigner = useUserSigner(injectedProvider);\n  const tx = Transactor(userSigner, gasPrice);\n\n  const enterRaffle = async () => {\n    tx && contracts && (await tx(contracts.CityDaoParcel.enterRaffle()));\n    resetStatus();\n    return true;\n  };\n\n  useEffect(() => {\n    if (inRaffle) {\n      setTooltip(\"You have already entered the raffle\");\n    } else {\n      setTooltip(\"Connect your wallet to enter the raffle.\");\n    }\n  }, [inRaffle]);\n\n  const raffleRules = () => {\n    Modal.confirm({\n      title: \"Legal disclaimer!\",\n      content: `By confirming, you hereby agree to the following conditions.. \n      lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum`,\n      okText: \"Yes\",\n      cancelText: \"No\",\n      okType: \"primary\",\n      okButtonProps: {\n        className: \"confirm\",\n      },\n      centered: true,\n      onOk: enterRaffle,\n    });\n  };\n\n  return (\n    <Tooltip title={userAddress && !inRaffle ? null : tooltip}>\n      <button\n        onClick={() => userAddress && !inRaffle && raffleRules()}\n        className={`connect-wallet-button connect-wallet secondary-font px-4 h-9 rounded ${\n          !userAddress || inRaffle ? \"opacity-50\" : \"\"\n        } flex items-center justify-center`}\n      >\n        Enter Raffle\n      </button>\n    </Tooltip>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}