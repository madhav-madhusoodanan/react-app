{"ast":null,"code":"import _regeneratorRuntime from\"/home/madhav/Documents/freelancers/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/madhav/Documents/freelancers/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/madhav/Documents/freelancers/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fetcher,Route,Token,WETH}from\"@uniswap/sdk\";import{usePoller}from\"eth-hooks\";import{useState}from\"react\";export default function useExchangePrice(targetNetwork,mainnetProvider,pollTime){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),price=_useState2[0],setPrice=_useState2[1];var pollPrice=function pollPrice(){function getPrice(){return _getPrice.apply(this,arguments);}function _getPrice(){_getPrice=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var DAI,pair,route;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(mainnetProvider){_context.next=2;break;}return _context.abrupt(\"return\",0);case 2:if(!targetNetwork.price){_context.next=6;break;}setPrice(targetNetwork.price);_context.next=12;break;case 6:DAI=new Token(mainnetProvider.network?mainnetProvider.network.chainId:1,\"0x6B175474E89094C44Da98b954EedeAC495271d0F\",18);_context.next=9;return Fetcher.fetchPairData(DAI,WETH[DAI.chainId],mainnetProvider);case 9:pair=_context.sent;route=new Route([pair],WETH[DAI.chainId]);setPrice(parseFloat(route.midPrice.toSignificant(6)));case 12:case\"end\":return _context.stop();}}},_callee);}));return _getPrice.apply(this,arguments);}getPrice();};usePoller(pollPrice,pollTime||9777);return price;}","map":null,"metadata":{},"sourceType":"module"}